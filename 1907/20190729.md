# 20190729

### RAID(Redundant Array of Inexpensive)

여러개의 하드디스크를 하나의 하드디스크처럼 사용하는 방식.

(하드웨어 RAID는 더럽게 비싸다)

#### software RAID

n은 하드의 개수라고 가정한다.

##### Linear RAID 

앞 하드에 데이터가 완전히 저장된 후, 다음 하드에 데이터를 저장한다.

##### RAID 0 

데이터를  n개만큼 쪼개어서 각각의 하드에 일부를 저장한다.(stripping 방식)

빠르다. 빠른 성능을 요구하지만, 일부, 또는 전부 손상되어도 큰 문제가 되지 않는 자료를 저장

하드 각각의 크기는 고려하지 않고, 1/n을 하므로 하드의 크기가 같아야 한다.

(정확히는 가장 작은 하드디스크의 크기만큼 하향평준화 된다.)

##### RAID 1

똑같은 데이터를 2개 이상의 하드에 저장한다. 저장 공간은 필요 데이터 크기의 n배

하나의 하드가 고장나도 데이터가 손상되지 않는다.

그러므로 비용이 많이 들더라도 중요도가 높은 데이터를 저장한다.

##### RAID 5

RAID 0과 RAID 1을 적절히 혼용

RAID 0 쓰면서 패리티 쓴다.



1. 각각의 disk를 fdisk -fd 해줌
   * fdisk 
   * command t
   * Hex Code : fd
2. mdadm - 으로 디스크 묶기
   * mdadm --create (합쳐진 디스크) --level=(linear, 0, 1 ,5) --raid-device=(디바이스 개수) (디스크 경로) * (디바이스 개수만큼...)
   * 정상적인 디스크에 추가할 때는 mdadm (디스크 경로) --add (디바이스 경로)
3. mkfs.ext4로 포맷
4. 폴더에 mount

※ 고장난 disk가 복구할수 있는 경우(raid 1,5 등등..)  복구화면에서 mdadm --run (디스크 경로)