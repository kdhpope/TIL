# 20190731

## shell script

### shell

사용자가 입력한 명령을 해석해 커널에게 전달하거나, 커널의 처리 결과(메모리 사용량, 하드웨어 상태 등등...) 를 사용자에게 전달하는 역할을 한다.(window의 dos와 같음)

맨 위에 #!/bin/sh 를 입력!!

### 문법

* 셸 스크립트에서는 변수를 사용하기 전에 미리 선언하지 않으며, 처음 변수에 값이 할당되면 자동으로 변수가 생성된다.
* 변수에 넣는 모든 값은 'String'으로 취급한다. 즉, 숫자를 넣어도 문자로 취급한다. "value"이런식으로 ""안에 포함되어야 한다.
* 변수 이름은 대소문자를 구분한다. 즉, $aa라는 변수 이름과 $AA라는 변수 이름은 다르다.
* 변수를 대입할 때 '=' 좌우에는 공백이 없어야 한다.
* 생성한 변수를 사용할 때는 $VALNAME식으로 $를 붙이고 사용한다.
* $varName과 "$varName"은 같다. 둘다 $varName에 저장된 값을 불러온다.



#### 변수 입력 받을 때

read valName

#### 숫자 계산

\`expr $valName + 100 \`

※ \'\' 내에서 expr 제외하고 다 띄어쓰기 해야 한다.

#### 인자 받기

$0,  $1, $2 의 형태를 띈다. $0에는 파일 이름이 들어가므로, 실제 인자로 사용하는 것은 $1 부터

#### IF문

```shell
if [ 조건 ]
then
	참일 경후
else 
	거짓일 경우
fi
	
```

※ [ 조건 ]사이의 각 단어에는 공백이 있어야 한다.

fi : 조건문이 끝났다.



##### 비교연산자

###### 문자열

* "문자열1" = "문자열2" : 문자열이 같으면 참
* "문자열1" != "문자열2" : 문자열이 같지 않으면 참
* -n "문자열"                     : 문자열이 NULL이 아니면 참
* -z "문자열"                      : 문자열이 NULL이면 참

###### 산술

- 수식1 -eq 수식 2     : 두 수식(또는 변수)가 같으면 참
- 수식1 -ne 수식 2     : 두 수식(또는 변수)가 같지 않으면 참
- 수식1 -gt 수식 2     :  수식1이 수식2보다 크다면 참
- 수식1 -ge 수식 2     :  수식1이 수식 2보다 크거나 같으면 참
- 수식1 -lt 수식 2      : 수식1이 수식2보다 작으면 참
- 수식1 -le 수식 2     : 수식1이 수식2보다 작거나 같으면 참
- !수식                       : 수식이 거짓이면 참

###### 파일

* -d 파일이름    : 파일이 디렉터리면 참
* -e 파일이름    : 파일이 존재하면 참 
* -f 파일이름    : 파일이 일반 파일이면 참
* -g 파일이름    : 파일에 set-group-id가 설정되면 참
* -r 파일이름    : 파일이 읽기 가능이면 참
* -s 파일이름    : 파일 크기가 0이 아니면 참
* -u 파일이름    : 파일에 set-user-id가 설정되면 참
* -w 파일이름    : 파일이 쓰기가능 상태이면 참
* -x 파일이름    : 파일이 실행 가능 상태이면 참